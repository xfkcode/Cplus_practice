# åŠ¨æ€è§„åˆ’

**åŠ¨æ€è§„åˆ’é—®é¢˜çš„ä¸€èˆ¬å½¢å¼å°±æ˜¯æ±‚æœ€å€¼**   
**æ±‚è§£åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒé—®é¢˜æ˜¯ç©·ä¸¾** 

ã€:building_construction:ã€‘æ¡†æ¶  
**æ˜ç¡® base case >> æ˜ç¡®ã€ŒçŠ¶æ€ã€>> æ˜ç¡®ã€Œé€‰æ‹©ã€ >> å®šä¹‰ `dp` æ•°ç»„/å‡½æ•°çš„å«ä¹‰** 

```python
# è‡ªé¡¶å‘ä¸‹é€’å½’çš„åŠ¨æ€è§„åˆ’
def dp(çŠ¶æ€1, çŠ¶æ€2, ...):
    for é€‰æ‹© in æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©:
        # æ­¤æ—¶çš„çŠ¶æ€å·²ç»å› ä¸ºåšäº†é€‰æ‹©è€Œæ”¹å˜
        result = æ±‚æœ€å€¼(result, dp(çŠ¶æ€1, çŠ¶æ€2, ...))
    return result

# è‡ªåº•å‘ä¸Šè¿­ä»£çš„åŠ¨æ€è§„åˆ’
# åˆå§‹åŒ– base case
dp[0][0][...] = base case
# è¿›è¡ŒçŠ¶æ€è½¬ç§»
for çŠ¶æ€1 in çŠ¶æ€1çš„æ‰€æœ‰å–å€¼ï¼š
    for çŠ¶æ€2 in çŠ¶æ€2çš„æ‰€æœ‰å–å€¼ï¼š
        for ...
            dp[çŠ¶æ€1][çŠ¶æ€2][...] = æ±‚æœ€å€¼(é€‰æ‹©1ï¼Œé€‰æ‹©2...)
```

### æ–æ³¢é‚£å¥‘æ•°åˆ—

:point_right:[**LeetCode509. æ–æ³¢é‚£å¥‘æ•°**](https://leetcode.cn/problems/fibonacci-number/) 

:alien:**æ€è·¯è§£æï¼š** 

- æš´åŠ›é€’å½’

```C++
class Solution {
public:
    int fib(int n) {
        if(n==0 || n==1) {
            return n;
        }
        return fib(n-1) + fib(n-2);
    }
};
```

- å¸¦å¤‡å¿˜å½•çš„é€’å½’è§£æ³•

```C++
class Solution {
public:
    int fib(int n) {
        if(n<1) return 0;
        // å¤‡å¿˜å½•å…¨åˆå§‹åŒ–ä¸º 0
        vector<int> memo(n+1, 0);
        // è¿›è¡Œå¸¦å¤‡å¿˜å½•çš„é€’å½’
        return helper(memo, n);
    }
    int helper(vector<int> &memo, int n) {
        // base case
        if(n==0 || n==1) return n;
        // è®¡ç®—è¿‡çš„ä¸å†è®¡ç®—
        if(memo[n]!=0) return memo[n];
        memo[n] = helper(memo, n-1) + helper(memo, n-2);
        return memo[n];
    }
};
```

- `dp` æ•°ç»„çš„è¿­ä»£ï¼ˆé€’æ¨ï¼‰è§£

```C++
class Solution {
public:
    int fib(int n) {
        if(n<1) return 0;
        vector<int> dp(n+1, 0);
        dp[1] = 1;
        // çŠ¶æ€è½¬ç§»
        for(int i=2;i<=n;i++) {
            dp[i] = dp[i-1] + dp[i-2];
        }
        return dp[n];
    }
};
//çŠ¶æ€å‹ç¼©
class Solution {
public:
    int fib(int n) {
        if(n==0 || n==1) return n;
        int prev = 1, curr = 1;
        for(int i=3;i<=n;i++) {
            int sum = prev + curr;
            prev = curr;
            curr = sum;
        }
        return curr;
    }
};
```

ã€:cactus:ã€‘çŠ¶æ€å‹ç¼©å°†ç©ºé—´å¤æ‚åº¦é™è‡³O(1)

### å‡‘é›¶é’±é—®é¢˜

:point_right:[**LeetCode322. é›¶é’±å…‘æ¢**](https://leetcode.cn/problems/coin-change/description/) 

:alien:**æ€è·¯è§£æï¼š** 

1. **ç¡®å®š base case**  
   ç›®æ ‡é‡‘é¢ `amount` ä¸º 0 æ—¶ç®—æ³•è¿”å› 0

2. **ç¡®å®šã€ŒçŠ¶æ€ã€**  
   åŸé—®é¢˜å’Œå­é—®é¢˜ä¸­ä¼šå˜åŒ–çš„å˜é‡ã€‚  
   ç”±äºç¡¬å¸æ•°é‡æ— é™ï¼Œç¡¬å¸çš„é¢é¢ä¹Ÿæ˜¯é¢˜ç›®ç»™å®šçš„ï¼Œåªæœ‰ç›®æ ‡é‡‘é¢ä¼šä¸æ–­åœ°å‘ base case é è¿‘ï¼Œæ‰€ä»¥å”¯ä¸€çš„ã€ŒçŠ¶æ€ã€å°±æ˜¯ç›®æ ‡é‡‘é¢ `amount`ã€‚

3. **ç¡®å®šã€Œé€‰æ‹©ã€ï¼Œä¹Ÿå°±æ˜¯å¯¼è‡´ã€ŒçŠ¶æ€ã€äº§ç”Ÿå˜åŒ–çš„è¡Œä¸º**  
   ç›®æ ‡é‡‘é¢ä¸ºä»€ä¹ˆå˜åŒ–å‘¢ï¼Œå› ä¸ºä½ åœ¨é€‰æ‹©ç¡¬å¸ï¼Œä½ æ¯é€‰æ‹©ä¸€æšç¡¬å¸ï¼Œå°±ç›¸å½“äºå‡å°‘äº†ç›®æ ‡é‡‘é¢ã€‚æ‰€ä»¥è¯´æ‰€æœ‰ç¡¬å¸çš„é¢å€¼ï¼Œå°±æ˜¯ä½ çš„ã€Œé€‰æ‹©ã€ã€‚

4. **æ˜ç¡® `dp` å‡½æ•°/æ•°ç»„çš„å®šä¹‰**    
   å®šä¹‰ `dp` å‡½æ•°ï¼š`dp(n)` è¡¨ç¤ºï¼Œè¾“å…¥ä¸€ä¸ªç›®æ ‡é‡‘é¢ `n`ï¼Œè¿”å›å‡‘å‡ºç›®æ ‡é‡‘é¢ `n` æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°é‡ã€‚

```C++
class Solution {
public:
    int coinChange(vector<int>& coins, int amount) {
        return dp(coins, amount);
    }
    // å®šä¹‰ï¼šè¦å‡‘å‡ºé‡‘é¢ nï¼Œè‡³å°‘è¦ dp(coins, n) ä¸ªç¡¬å¸
    int dp(vector<int>& coins, int amount) {
        // base case
        if(amount==0) return 0;
        if(amount<0) return -1;
        
        int res = INT_MAX;
        for(int coin : coins) {
            // è®¡ç®—å­é—®é¢˜çš„ç»“æœ
            int cur = dp(coins, amount-coin);
            // å­é—®é¢˜æ— è§£åˆ™è·³è¿‡
            if(cur==-1) continue;
            // åœ¨å­é—®é¢˜ä¸­é€‰æ‹©æœ€ä¼˜è§£ï¼Œç„¶ååŠ ä¸€
            res = cur<res ? (cur+1) : res;
        }
        return res == INT_MAX ? -1 : res;
    }
};
```



---
> âœï¸ [é‚¢ç¦å‡¯ (xfkcode@github)](https://github.com/xfkcode)  
> ğŸ“… **å†™äº2023å¹´2æœˆ** 
